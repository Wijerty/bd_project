# Панель безопасности антифрод системы

## Обзор

Панель безопасности антифрод системы - это веб-приложение, предназначенное для аналитиков безопасности для мониторинга, расследования и реагирования на потенциально мошеннические P2P переводы. Она предоставляет комплексный интерфейс для обнаружения и управления мошенничеством в реальном времени.

## Основные возможности

### 1. Панель управления
- Сводные карточки с ключевыми метриками (всего транзакций, помеченных транзакций, клиентов высокого риска, заблокированных счетов)
- Визуальная диаграмма активности транзакций в реальном времени
- Быстрый доступ к недавно помеченным транзакциям
- Система оповещений о подозрительной активности

### 2. Все транзакции
- Полный список всех транзакций
- Детальная информация о транзакциях, включая отправителя, получателя, сумму и оценку риска
- Возможность просмотра деталей транзакции одним кликом
- Поиск и фильтрация транзакций

### 3. Подозрительные транзакции
- Отфильтрованный список транзакций, помеченных как подозрительные
- Цветовая кодировка оценок риска для быстрой идентификации транзакций высокого риска
- Причины пометки для лучшего понимания, почему транзакции были помечены

### 4. Клиенты высокого риска
- Список клиентов с высоким уровнем риска или заблокированных
- Информация о клиентах, включая контактные данные и оценки риска
- Возможность просмотра детальной информации о клиенте

### 5. Анализ паттернов
- Визуальное представление паттернов транзакций во времени
- Помогает выявить необычные всплески или падения активности транзакций
- Полезно для обнаружения согласованных попыток мошенничества

### 6. Поиск
- Поиск конкретных транзакций по ID или номеру счета
- Поиск клиентов по ID или имени
- Быстрый доступ к детальной информации

### 7. Отчеты
- Доступ к различным отчетам по мошенничеству
- Ежедневные отчеты по мошенничеству
- Оценки риска клиентов
- Анализ паттернов транзакций

### 8. Система оповещений
- Централизованное место для всех оповещений системы безопасности
- Приоритезация оповещений по уровню риска
- Быстрые действия для каждого оповещения

## Рабочий процесс пользователя

### Мониторинг
1. Аналитики безопасности начинают с панели управления для получения обзора активности системы
2. Они могут быстро определить любые необычные паттерны или увеличения в помеченных транзакциях
3. Список недавно помеченных транзакций обеспечивает немедленный доступ к элементам, требующим внимания

### Расследование
1. Аналитики могут перейти к представлению "Помеченные транзакции", чтобы увидеть всю подозрительную активность
2. Нажав на любую транзакцию, они могут просмотреть детальную информацию, включая:
   - Детали транзакции (сумма, дата, тип)
   - Информацию об отправителе и получателе
   - Информацию об устройстве и IP адресе
   - Оценку риска и обоснование

### Реагирование
1. Из модального окна деталей транзакции аналитики могут:
   - Пометить транзакцию, если она еще не была помечена
   - Заблокировать связанного клиента, если подозрительная активность подтверждена
2. Действия немедленно отражаются в системе и базе данных

### Управление клиентами
1. Представление "Клиенты высокого риска" показывает клиентов с повышенными оценками риска
2. Детальные представления клиентов показывают:
   - Личную информацию
   - Детали счетов
   - Историю недавних транзакций
   - Уровень риска
3. Аналитики могут блокировать клиентов непосредственно из представления деталей клиента

## Техническая реализация

### Бэкенд (Flask)
- RESTful API endpoints для всей функциональности панели
- Подключения к базе данных с использованием psycopg2
- Безопасная обработка учетных данных базы данных через переменные окружения
- Обработка ошибок и ведение журнала

### Фронтенд (HTML/CSS/JavaScript)
- Адаптивный дизайн с использованием Bootstrap 5
- Интерактивные диаграммы с использованием Chart.js
- Модальные диалоги для детальных представлений
- Обновления данных в реальном времени

### Функции безопасности
- Управление доступом на основе ролей (концептуально)
- Безопасные API endpoints
- Проверка и очистка ввода
- Поддержка HTTPS (в рабочей среде)

## API Endpoints

### Управление транзакциями
- `GET /api/transactions` - Получить последние транзакции
- `GET /api/flagged-transactions` - Получить помеченные транзакции
- `GET /api/transaction/<id>` - Получить детали конкретной транзакции
- `POST /api/flag-transaction` - Пометить транзакцию как подозрительную

### Управление клиентами
- `GET /api/high-risk-clients` - Получить клиентов высокого риска
- `GET /api/client/<id>` - Получить детали конкретного клиента
- `POST /api/block-client` - Заблокировать клиента

### Аналитика
- `GET /api/transaction-patterns` - Получить паттерны транзакций для визуализации

## Развертывание

Панель может быть развернута несколькими способами:

1. **Развертывание с Docker** (Рекомендуется)
   - Использует предоставленный Dockerfile и docker-compose-full.yml
   - Автоматически настраивает базу данных, adminer и панель
   - Развертывание одной командой

2. **Ручное развертывание**
   - Требует Python 3.7+
   - Установка зависимостей из requirements.txt
   - Настройка переменных окружения

## Инструкции по использованию

1. **Доступ к панели**
   - Перейдите по адресу `http://localhost:5000` после запуска приложения

2. **Мониторинг активности**
   - Начните с панели управления, чтобы увидеть общие метрики системы
   - Проверьте список недавно помеченных транзакций для элементов, требующих немедленного внимания

3. **Расследование транзакций**
   - Нажмите на любую транзакцию, чтобы просмотреть детальную информацию
   - Используйте оценку риска и другую информацию, чтобы определить, нужны ли действия

4. **Предпринять действия**
   - Используйте кнопку "Пометить транзакцию" для отметки подозрительной активности
   - Используйте кнопку "Заблокировать клиента" для предотвращения дальнейших транзакций от клиента

5. **Анализ паттернов**
   - Используйте представление "Анализ паттернов" для выявления необычных тенденций активности
   - Генерируйте отчеты для дальнейшего анализа

## Настройка

Панель может быть настроена несколькими способами:

1. **Стилизация**
   - Измените `static/css/style.css` для изменения внешнего вида
   - Обновите цвета, шрифты и макет

2. **Функциональность**
   - Измените `static/js/dashboard.js` для добавления новых функций или изменения существующих
   - Обновите `app.py` для добавления новых API endpoints

3. **Шаблоны**
   - Измените `templates/index.html` для изменения макета или добавления новых представлений

## Будущие улучшения

1. **Расширенная аналитика**
   - Интеграция машинного обучения для предиктивного обнаружения мошенничества
   - Более сложное распознавание паттернов

2. **Управление пользователями**
   - Поддержка нескольких пользователей с разными уровнями разрешений
   - Журналы аудита для всех действий

3. **Система уведомлений**
   - Уведомления по электронной почте или SMS для транзакций высокого риска
   - Уведомления в реальном времени для команды безопасности

4. **Интеграция**
   - Интеграция API с внешними службами обнаружения мошенничества
   - Подключение к другим инструментам и платформам безопасности

Эта панель безопасности предоставляет комплексное решение для мониторинга и управления мошенничеством в системах P2P переводов, предоставляя аналитикам безопасности инструменты, необходимые для защиты как учреждения, так и его клиентов.